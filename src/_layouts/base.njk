<!doctype html>
<html
  {% if global.enable_theme_switch %}data-enable-theme-switch="{{ global.enable_theme_switch }}"{% endif %}
  {% if global.enable_theme_switch %}data-use-system-theme="{{ global.use_system_theme }}"{% endif %}
  {% if global.default_theme %}data-default-theme="{{ global.default_theme }}"{% endif %}
  {% if section %}data-current="{{ section }}"{% endif %}
  lang="en"
>

	{% include "partials/head.njk" %}

  <body>

		{% include "partials/site-header.njk" %}
		{% include "partials/drawer.njk" %}
		<main>
			{{ layoutContent | safe }}
		</main>

		{% include "partials/footer.njk" %}
	</body>

</html>

<script>
document.addEventListener("DOMContentLoaded", function() {
  document.querySelectorAll('a[href]').forEach(function(link) {
    link.addEventListener('click', function(e) {
      // Only force reload for left-click, no modifier keys, and not anchor/hash links
      if (
        e.button === 0 &&
        !e.metaKey && !e.ctrlKey && !e.shiftKey && !e.altKey &&
        link.getAttribute('href').indexOf('#') !== 0 &&
        link.getAttribute('target') !== '_blank'
      ) {
        window.location.href = link.href;
        e.preventDefault();
      }
    });
  });
});
</script>
